@page "/"
@using BookManagement.Shared.Models.Dtos;
@inherits BooksBase

@if(Books == null){
	<h3>Loading...</h3>
} else{
	<h3 class="mb-5">Books</h3>
	var bookCount = Books.Count();
	@if(bookCount > 0)
	{
		const int itemsPerRow = 4;
		var bookRowList = new List<BookDto>();
		@for (int i = 0; i < bookCount; i++)
		{
			bookRowList = Books.Skip(i * itemsPerRow).Take(itemsPerRow).ToList();

			<div class="row mt-3">
				@foreach (var item in bookRowList)
				{
					<div class="col-md-3 mb-2">
						<a href="#">
							<div class="card">
								<div class="card-body">
									<h5 class="card-title mb-3">@item.Title</h5>
									<p class="card-text">
										<b>@item.Author</b>
									</p>
								</div>
							</div>
						</a>
					</div>
				}
			</div>
		}
	}
}